<!DOCTYPE html>
<html>
<head>
<style>
td, th {
 border:2px solid #778899;
 border-right:none;
 border-bottom:none;
}

td:nth-last-child(1) {
 border-right:2px solid #778899;
}

th:nth-last-child(1) {
 border-right:2px solid #778899;
}

table {
 border-bottom:2px solid #778899;
}

h1 {text-align: center;}
p {text-align: center;}
div {text-align: center;}

.center {
  margin-left: auto;
  margin-right: auto;
}

</style>
</head>

<body>


 <% if @current_club_member.admin_code == 60637 %>
<div>
  <div>
    <h1>
      List of all rentals
    </h1>
  </div>
</div>

<hr>

<div>
  <div>
    <h2>
      Add a new rental
    </h2>

    <form action="/insert_rental" method="post">
      <div>
        <label for="gear_id_box">
          Gear
        </label>

        <input type="text" id="gear_id_box" name="query_gear_id">
      </div>

      <div>
        <label for="check_out_date_box">
          Check out date
        </label>

        <input type="date" id="check_out_date_box" name="query_check_out_date">
      </div>

      <div>
        <label for="return_date_box">
          Return date
        </label>

        <input type="date" id="return_date_box" name="query_return_date">
      </div>

      <div>
        <label for="member_id_box">
          Member
        </label>

        <input type="text" id="member_id_box" name="query_member_id">
      </div>

      <button>
        Create rental
      </button>
    </form>
  </div>
</div>

<hr>
<div>
  <div>
    <table >
      <tr>
      <th>
          Club member id 
        </th>
      <th>
          Member Name
        </th>
         <th>
          Phone Number
        </th>
        <th>
          Email
        </th>


        <th>
          Gear
        </th>
         <th>
          Gear id 
        </th>

        <th>
          Check out date
        </th>

        <th>
          Return date
        </th>

        <th>
          Checkout note
        </th>

      
        <th>
          Created at
        </th>

        <th>
          Updated at
        </th>

        <th>
        </th>
      </tr>

      <% @list_of_rentals.each do |a_rental| %>
      <tr>
        <td>
          <%= @current_club_member.id %>
        </td>
        <td>
          <%= @current_club_member.first_name %> <%= @current_club_member.last_name %> 
        </td>
        
        <td>
          <%= @current_club_member.phone_number %> 
        </td>
        <td>
          <%= @current_club_member.email %> 
        </td>

        <td>
          <%= a_rental.gear.name %>
        </td>
         <td>
          <%= a_rental.id %>
        </td>

        <td>
          <%= a_rental.check_out_date %>
        </td>

        <td>
          <%= a_rental.return_date %>
        </td>

        <td>
          <%= a_rental.checkout_note %>
        </td>

        
        <td>
          <%= time_ago_in_words(a_rental.created_at) %> ago
        </td>
        <td>
          <%= time_ago_in_words(a_rental.updated_at) %> ago
        </td>
        
        <td>
          <a href="/delete_rental/<%= a_rental.id %>">
            Cancel rental
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>
</hr>

<h1>
List of all members
</h1>

<table style="width:100%">
  <tr>
    <th>Club Member</th>
    <th>Year</th>
    <th>Phone number</th>
    <th>email</th>
    <th>admin code</th>
  </tr>
<% ClubMember.all.each do |member|%>
  <tr>
    <td><%= member.first_name %> <%= member.last_name %></td>
    <td><%= member.year %> </td>
    <td><%= member.phone_number %> </td>
    <td><%= member.email %> </td>
    <td><%= member.admin_code %> </td>
  </tr>
  <%end%>
</table>


<%else%>
<%end%>






</body>